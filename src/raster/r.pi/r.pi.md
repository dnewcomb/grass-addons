---
name: r.pi
description: Toolset for multiscale analysis of landscape patch structure
keywords: [raster, landscape structure analysis, neutral landscapes, patch index]
---

# Toolset for multiscale analysis of landscape patch structure

## DESCRIPTION

*r.pi* (raster patch index) provides various functions to analyse
spatial attributes of a landscape. It has a focus on patch-based indices
but delivers class-based indices as well. *r.le* and its successor
*r.li* provide landscape indices.

A list with a short description of the *r.pi* modules can be found
below. More in depth description of a certain module (commands, flags,
options) can be found in the respective folder (like
*[r.pi.graph](r.pi.graph.md)*). The functions/algorithms of the modules
are not yet very extensive but will be expanded in the future. Please
submit any bug/feature you might encounter to improve the functionality.

The program will interactively query the user for input, output and
options (GUI). However the module can be also run from the terminal
prompt (CLI) and might be implemented in e.g. a bash-script.

It is highly recommended to read the help pages or e.g the overview
documents of
[Fragstats](https://web.archive.org/web/20211022092443/https://www.umass.edu/landeco/research/fragstats/documents/fragstats_documents.html)
to get a better impression of problems, possibilities and caveats.

### General and Connectivity Indices

- **[r.pi.index](r.pi.index.md)**: Calculations of basic indices
    (area, SHAPE etc.)
- **[r.pi.enn](r.pi.enn.md)**: Area, SHAPE and distance to n-th
    Euclidean Nearest Neighbor
- **[r.pi.fnn](r.pi.fnn.md)**: Area, SHAPE and distance to n-th
    Functional Nearest Neighbor
- **[r.pi.grow](r.pi.grow.md)**: Size and suitability based region
    growing
- **[r.pi.odc](r.pi.odc.md)**: Area and distance to omnidirectional
    n-th Nearest Neighbors
- **[r.pi.neigh](r.pi.neigh.md)**: Extraction of values of patches in
    defined buffer region
- **[r.pi.prox](r.pi.prox.md)**: Calculation of Proximity and Modified
    Proximity Index for patches in buffer region
- **[r.pi.graph](r.pi.graph.md)**: Various connectivity indices within
    the Graph Theory
- **[r.pi.graph.pr](r.pi.graph.pr.md)**: Graph Theory - iterative
    removal (patch relevance analysis)

### Individual-based dispersal models

- **[r.pi.searchtime](r.pi.searchtime.md)**: Searchtime and
    Immigration rate
- **[r.pi.searchtime.mw](r.pi.searchtime.mw.md)**: Individual-based
    dispersal model for connectivity analysis (time-based) using moving
    window
- **[r.pi.energy](r.pi.energy.md)**: Immigration, Migration and
    successfull emigration rate
- **[r.pi.searchtime.mw](r.pi.searchtime.mw.md)**: Related to
    *r.pi.searchtime* but using a Moving Windows approach

### Patch-Relevance

- **[r.pi.enn.pr](r.pi.enn.pr.md)**: Patch relevance for Euclidean
    nearest neighbor patches
- **[r.pi.searchtime.pr](r.pi.searchtime.pr.md)**: Relevance of
    patches for maintenance of searchtime
- **[r.pi.energy.pr](r.pi.energy.pr.md)**: Relevance of patches for
    maintenance of immigration rate
- **[r.pi.graph.red](r.pi.graph.red.md)**: Graph Theory - decreasing
    distance threshold option
- **[r.pi.graph.dec](r.pi.graph.dec.md)**: Graph Theory - successive
    criteria-based deletion of patches

### Neutral Landscape Model

- **[r.pi.nlm](r.pi.nlm.md)**: Generation of a neutral landscape
    (fractal)
- **[r.pi.nlm.stats](r.pi.nlm.stats.md)**: Statistical analysis of
    landscapes based on permutation of neutral landscapes
- **[r.pi.nlm.circ](r.pi.nlm.circ.md)**: Generation of a neutral
    landscape (circular)

### Various modules

- **[r.pi.corearea](r.pi.corearea.md)**: Calculation of core area
    based on costmatrix
- **[r.pi.csr.mw](r.pi.csr.mw.md)**: Complete Spatial Randomness
    analysis on moving window.
- **[r.pi.prob.mw](r.pi.prob.mw.md)**: Probability of two random
    points being in the same patch
- **[r.pi.rectangle](r.pi.rectangle.md)**: Generation of rectangles
    based on coordinate points
- **[r.pi.import](r.pi.import.md)**: Import of values to corresponding
    patches
- **[r.pi.export](r.pi.export.md)**: Export of values from patches
- **[r.pi.lm](r.pi.lm.md)**: Linear regression analysis for patches
- **[r.pi.corr.mw](r.pi.corr.mw.md)**: Moving window correlation
    between two raster maps

## EXAMPLES

### Calculation of the SHAPE-Index

Input can be generated by *r.pi.nlm*, for example:

```sh
# generate random landscape with 50% cover
r.pi.nlm output=NLM_in landcover=50 sharpness=0.5

# use the class 1 of the above generated landscape for computation of SHAPE-Index
r.pi.index input=NLM_in keyval=1 output=NLM_in.shape method=shape
```

### Calculation of the distance to the first and 10th Nearest Neighbor

Input generated by *r.pi.nlm*, for example:

```sh
# generate random landscape with 50% cover
r.pi.nlm output=NLM_in landcover=50 sharpness=0.5

# first NN
r.pi.index input=NLM_in keyval=1 output=NLM_in.enn1 method=ENN

# 10th NN
r.pi.enn input=NLM_in output=NLM_in.enn10 method=distance number=10

# 1-10th NN
r.pi.enn input=NLM_in output=NLM_in.enn10 method=distance number=1-10
```

## NOTE

The maximum number of patches that can be queried at one time depend on
the module and might also be influenced by the resolution.

## SEE ALSO

*[r.pi.corr.mw](r.pi.corr.mw.md), [r.pi.energy](r.pi.energy.md),
[r.energy.pr](r.pi.energy.pr.md), [r.pi.enn](r.pi.enn.md),
[r.pi.enn.pr](r.pi.enn.pr.md), [r.pi.neigh](r.pi.neigh.md),
[r.pi.fnn](r.pi.fnn.md), [r.pi.nlm.circ](r.pi.nlm.circ.md),
[r.pi.nlm](r.pi.nlm.md), [r.nlm.stats](r.pi.nlm.stats.md),
[r.pi.corearea](r.pi.corearea.md), [r.pi.csr.mw](r.pi.csr.mw.md),
[r.pi.export](r.pi.export.md), [r.pi.graph](r.pi.graph.md),
[r.pi.graph.dec](r.pi.graph.dec.md), [r.pi.graph.pr](r.pi.graph.pr.md),
[r.pi.graph.red](r.pi.graph.red.md), [r.pi.grow](r.pi.grow.md),
[r.pi.import](r.pi.import.md), [r.pi.index](r.pi.index.md),
[r.pi.lm](r.pi.lm.md), [r.pi.odc](r.pi.odc.md),
[r.pi.prob.mw](r.pi.prob.mw.md), [r.pi.rectangle](r.pi.rectangle.md),
[r.pi.searchtime](r.pi.searchtime.md),
[r.pi.searchtime.pr](r.pi.searchtime.pr.md),
[r.pi.searchtime.mw](r.pi.searchtime.mw.md)*

*[r.le](r.le.md),
[r.li](https://grass.osgeo.org/grass-stable/manuals/r.li.html)*

## REFERENCE

- Wegmann, M., Leutner, B. F., Metz, M., Neteler, M., Dech, S., &
    Rocchini, D. (2018). *r. pi: A grass gis package for semi‚Äêautomatic
    spatial pattern analysis of remotely sensed land cover data.*
    Methods in Ecology and Evolution, 9(1), 191-199.
    <https://doi.org/10.1111/2041-210X.12827>

## Disclaimer

This software is released under the GPL license, hence also the
limitation of liability. This software was designed for a certain
project and its research questions. Its nomenclature might not be
concordant with other software packages. Moreover its capabilities are
yet limited and can not be compared to such of e.g. Fragstats, however
every user is invited to extend, modify or fix the functionality of
*r.pi* as long as the new code comply with the GPL.

## AUTHORS

Programming: Elshad Shirinov  
Scientific concept: Martin Wegmann  
Department of Remote Sensing  
*Remote Sensing and Biodiversity Unit*  
University of Wuerzburg, Germany

Port to GRASS GIS 7: Markus Metz

Documentation improvements: Markus Neteler
